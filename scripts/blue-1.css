
/* Blue‑1 — skin + chat styles (works on HUB UNO and KOBLLUX) */
/* ---------------------------------------------------------- */

/* 1) Global Blue‑1 theme tokens (opt‑in via body[data-theme="blue1"]) */
body[data-theme="blue1"]{
  --grad-a:#0030ff;
  --grad-b:#00e1ff;
  --fg:#e9f2ff;
  --mut:color-mix(in oklab, #e9f2ff 78%, #7ea6ff 22%);
  --surface:rgba(7,13,22,.58);
  --surface-strong:rgba(7,13,22,.92);
  --bd:1px solid rgba(148,197,255,.16);
  --ok:#39ffb6;
  --warn:#ffb86b;
  --err:#ff6b6b;
  --shadow:0 16px 44px rgba(0,72,255,.26);
}

/* 2) Home preview pill (“última resposta”) */
body[data-theme="blue1"] #msgPreview{
  background: linear-gradient(90deg,var(--grad-a),var(--grad-b));
  color:#031225;
  border:0;
}

/* 3) Chat feed (Blue chat) */
#chatFeed{
  background: var(--surface);
  border: var(--bd);
  border-radius: 18px;
  box-shadow: var(--shadow);
}
#chatFeed .msg{
  border-radius: 16px;
  border: 1px solid transparent;
}
/* User bubble */
#chatFeed .msg.user{
  background: linear-gradient(180deg, rgba(3,18,37,.86), rgba(2,10,22,.82));
  border: 1px solid rgba(148,197,255,.16);
  box-shadow: 0 10px 26px rgba(0,64,255,.22);
  font-weight: 700;
}
/* Assistant bubble (plain) */
#chatFeed .msg.ai{
  background: color-mix(in oklab, #00c1ff 12%, #061320);
  border: 1px solid rgba(0,193,255,.20);
}
/* Assistant bubble (rich blocks) */
#chatFeed .msg.ai-rich{
  background: color-mix(in oklab, #00c1ff 10%, #061320);
  border: 1px solid rgba(0,193,255,.20);
}
/* Three collapsible blocks */
#chatFeed .ai-block{
  border: 1px solid rgba(0,193,255,.18);
  background: rgba(6,19,32,.65);
}
#chatFeed .ai-block > summary{
  color:#a8d9ff;
  letter-spacing:.02em;
}
#chatFeed .ai-block .block-body{
  color: var(--fg);
}
#chatFeed .ai-block .block-body a{
  color:#7cc8ff;
  text-decoration: none;
  border-bottom: 1px dashed rgba(124,200,255,.5);
}
#chatFeed .ai-block .block-body a:hover{ opacity:.86 }

/* Emoji quick actions */
#chatFeed .emoji-btn{
  border:1px solid rgba(148,197,255,.20);
  background: rgba(255,255,255,.06);
}
#chatFeed .emoji-btn:hover{
  background: rgba(255,255,255,.12);
}

/* 4) Typing indicator (“digitando…”) */
.kb-typing{
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  background: rgba(6,19,32,.65);
  border: 1px solid rgba(0,193,255,.20);
  border-radius: 12px;
  box-shadow: 0 10px 22px rgba(0,64,255,.18);
}
.kb-typing i{
  width: 6px; height: 6px; border-radius: 50%;
  background: #8ed5ff;
  opacity:.75;
  animation: kb-bounce 1.2s infinite ease-in-out;
}
.kb-typing i:nth-child(2){ animation-delay:.15s }
.kb-typing i:nth-child(3){ animation-delay:.30s }
@keyframes kb-bounce{
  0%, 80%, 100%{ transform: translateY(0); opacity:.66 }
  40%{ transform: translateY(-5px); opacity:1 }
}

/* 5) KOBLLUX page (#umo/index KOBLLUX) – create a Blue chat container if needed */
.kb-chat-host{
  position: relative;
  width: min(92vw, 820px);
  margin: 8px auto 0;
}
.kb-chat-host #chatFeed{
  max-height: 56vh;
  overflow: auto;
}
